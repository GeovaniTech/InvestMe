<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core">
	
	<h:head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>InvestMe</title>
	</h:head>
	
	<h:body>
		<h:outputStylesheet library="css" name="menu.css" />
		
		<h:form id="form-menu-header">
			<div>
				<p:menuButton 
					icon="pi pi-align-justify"
					style="margin-left: 10px;">
					
					<p:menuitem
						icon="pi pi-chart-line"
						outcome="/pages/investments.xhtml">
						Investments
					</p:menuitem>
					
					<p:menuitem
						icon="pi pi-euro"
						outcome="/pages/expenditures.xhtml">
						Expenditures
					</p:menuitem>
							
				
					<p:menuitem 
						icon="pi pi-credit-card"
						onclick="PF('dialog-types').show()">
						Types
					</p:menuitem>	
					
					<p:menuitem
						icon="pi pi-file-excel"
						onclick="PF('dialog-excel-report').show()">
						Excel
					</p:menuitem>									
				</p:menuButton>
			</div>
			
			<div class="name-logo">
				<h1>Invest<span>Me</span></h1>
			</div>
			
			<div class="right-options">
				<p:commandButton
					action="#{MBclient.logout()}"
					styleClass="ui-button-raised ui-button-flat" 
					style="color: white; margin-right: 10px;"
					icon="pi pi-sign-out"/>
			</div>
		</h:form>
		
		<!-- DIALOG TYPES -->
		<p:dialog
			header="Types"
			widgetVar="dialog-types"
			modal="true"
			styleClass="dialog">
			
			<h:form>
				<p:inputText 
					value="#{MBType.dtoType.name}"
					placeholder="Name"
					style="margin-bottom: 10px;"/>
				
				<p:selectOneMenu value="#{MBType.dtoType.typeTransaction}">
					<f:selectItem 
						itemLabel="Investment"
						itemValue="Investment" />
						
					<f:selectItem 
						itemLabel="Expenditure"
						itemValue="Expenditure" />
				</p:selectOneMenu>
				
				<p:commandButton 
					value="Save"
					action="#{MBType.save()}"
					update="tableTypes, growl, @form"
					icon="pi pi-check"
					style="width: 100%;" />
			</h:form>
			
			<p:dataTable
				id="tableTypes"
				value="#{MBType.types}"
				var="type"
				paginator="true"
				rows="6"
				paginatorPosition="bottom">
				
				<p:column headerText="Name">
					<h:outputText value="#{type.name}" />
				</p:column>
				
				<p:column headerText="Options">
					<div class="options-menu">
						<p:commandButton 
							value="Deletar"
							action="#{MBType.remove(type)}"
							rendered="#{type.nameClient != null}"
							update="tableTypes, growl"
							icon="pi pi-times" />
					</div>
				</p:column>
			</p:dataTable>
		</p:dialog>
		
		<p:dialog
			header="Excel Report"
			widgetVar="dialog-excel-report"
			modal="true"
			styleClass="dialog">
			
			<h:form>
				<p style="font-size: 25px; margin-bottom: 10px;">Type of Report</p>
			
				<p:selectOneRadio 
					value="#{MBReportTransaction.reportType}"
					style="margin-bottom: 10px;">
					
					<f:selectItem 
						itemLabel="Investments" 
						itemValue="Investment" />
						
					<f:selectItem 
						itemLabel="Expenditures" 
						itemValue="Expenditure" />
				</p:selectOneRadio>
				
				<p:commandButton 
					value="Generate"
					action="#{MBReportTransaction.generateReport()}"
					ajax="false"
					icon="pi pi-file-excel"
					style="width: 150px;" />
			</h:form>
		</p:dialog>
	</h:body>
</html>
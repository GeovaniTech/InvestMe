<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core"
  	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:components="http://java.sun.com/jsf/composite/components">
	
	<composite:interface>
		<composite:attribute name="widgetVar" />
		<composite:attribute name="oncomplete" />
		<composite:attribute name="text" />
		<composite:attribute name="action" method-signature="void ask()"/>
		<composite:attribute name="update" />
		<composite:attribute name="onHide" />
	</composite:interface>
	
	<composite:implementation>
		<components:dialog 
			header="#{label.action_require_password}"
			widgetVar="#{cc.attrs.widgetVar}"
			modal="true"
			closable="false"
			onHide="#{cc.attrs.onHide}">
			
			<h:form>
				<p:messages 
	       			id="infoMessages" 
	        		autoUpdate="true"
	        		showIcon="false"
	        		showDetail="false"
	        		escape="false" />
			
				<p:commandButton 
					id="btnExecuteActionAfterPassword"
					style="display: none;"
					action="#{cc.attrs.action}"
					update="#{cc.attrs.update}, infoMessages" />
				
				<div class="vertical-center" style="width: 100%;">
					<p:avatar 
						icon="pi pi-user" 
						styleClass="mg-b-5" 
						size="xlarge"
						shape="circle" />
						 
					<p class="mg-b-5">#{cc.attrs.text}</p>
					
					<p:password 
						value="#{MBAppConfigs.password}"
						placeholder="#{label.password}"
						autocomplete="off"
						style="width: 100%;"
						styleClass="mg-b-5" />
				</div>
				
				<p:defaultCommand target="btnExecuteActionAfterPassword" />
			</h:form>
		</components:dialog>	
	</composite:implementation>
</html>